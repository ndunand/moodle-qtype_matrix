{{!
    @template qtype_matrix/question

    Template for displayed matrix questions.
    The example context has only one item and doesn't show feedback for brevity's sake.


    Example context (json):
    {
        "multiple": false,
        "isreadonly": true,
        "usedndui": false,
        "showfeedback": false,
        "expiredquestion": false,
        "errormessage": "",
        "questiontext": "The question text for the question",
        "answerheaders": [
            {
                "shorttext": "Short text of the first answer",
                "descriptionid": "colheader1",
                "description": "Longer description for the answer",
            },
            {
                "shorttext": "Short text of the second answer",
                "descriptionid": "colheader2",
                "description": "Longer description for the second answer",
            }
        ],
        "rows": [
            {
                "header": {
                    "shorttext": "Short text for the first row item",
                    "descriptionid": "rowheader1",
                    "description": "Longer description for the first row item",
                    "lastrow": false
                },
                "cells": [
                    {
                        "cellname": "q88:1_cell265",
                        "cellclass": "row0col0",
                        "ischecked": true,
                        "colid": 123,
                        "arialabel": "Select possible answer Short text of the first answer for item Short text for the first row item",
                    },
                    {
                        "cellname": "q88:1_cell266",
                        "cellclass": "row0col1",
                        "ischecked": false,
                        "colid": 123,
                        "arialabel": "Select possible answer Short text of the second answer for item Short text for the first row item",
                    }
                ]
            },
            {
                "header": {
                    "shorttext": "Short text for the second row item",
                    "descriptionid": "rowheader2",
                    "description": "Longer description for the second row item",
                    "lastrow": true
                },
                "cells": [
                    {
                        "cellname": "q88:1_cell265",
                        "cellclass": "row1col0",
                        "ischecked": true,
                        "colid": 123,
                        "arialabel": "Select possible answer Short text of the first answer for item Short text for the second row item"
                    },
                    {
                        "cellname": "q88:1_cell266",
                        "cellclass": "row1col1",
                        "ischecked": false,
                        "colid": 123,
                        "arialabel": "Select possible answer Short text of the second answer for item Short text for the second row item"
                    }
                ]
            }
        ]
    }
}}

{{#expiredquestion}}
Expired question: This can happen in preview mode.
{{/expiredquestion}}
{{^expiredquestion}}
<div class="question_text">{{{ questiontext }}}</div>
<table class="matrix{{#usedndui}} uses_dndui{{/usedndui}}">
    <thead>
        <tr>
            <td></td>
{{#answerheaders}}
            <th scope="col">
                <span class="title"{{#description}} aria-details="{{ descriptionid }}"{{/description}}>{{{ shorttext }}}</span>
{{#description}}
                <span id="{{ descriptionid }}" class="description">{{{ description }}}</span>
{{/description}}
            </th>
{{/answerheaders}}
{{#showfeedback}}
            <td></td>
{{/showfeedback}}
        </tr>
    </thead>
    <tbody>
{{#rows}}
    <tr{{#lastrow}} class="lastrow"{{/lastrow}}>
{{#header}}
        <th scope="row">
            <span class="title"{{#description}} aria-details="{{ descriptionid }}"{{/description}}>{{{ shorttext }}}</span>
{{#description}}
            <span id="{{ descriptionid }}" class="description">{{{ description }}}</span>
{{/description}}
        </th>
{{/header}}
{{#cells}}
        <td class="cell {{ cellclass }}">
{{#multiple}}
            <input type="checkbox" name="{{ cellname }}" value="{{ colid }}"{{#isreadonly}} disabled="disabled"{{/isreadonly}}{{#ischecked}} checked="checked"{{/ischecked}} aria-label="{{{ arialabel }}}">
{{/multiple}}
{{^multiple}}
            <input type="radio" name="{{ cellname }}" value="{{ colid }}"{{#isreadonly}} disabled="disabled"{{/isreadonly}}{{#ischecked}} checked="checked"{{/ischecked}} aria-label="{{{ arialabel }}}">
{{/multiple}}
{{#feedbackimage}}
            {{{ feedbackimage }}}
{{/feedbackimage}}
        </td>
{{/cells}}
{{#feedback}}
        <td class="feedbackcell">{{{ feedback }}}</td>
{{/feedback}}
    </tr>
{{/rows}}
    </tbody>
</table>
{{#errormessage}}
<div class="validationerror">{{ errormessage }}</div>
{{/errormessage}}
{{/expiredquestion}}
